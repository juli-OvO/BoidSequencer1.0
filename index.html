<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.10/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tone@15.0.4/build/Tone.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />

  </head>
  <body>
    <div id="app">
      <div id="line-panel" class="panel">
        <div class="panel-title">Harmonic Line</div>
        <label class="field">
          <span>Line X</span>
          <input type="range" id="line-pos-slider" min="0" max="100" step="0.1" value="50" />
        </label>
        <label class="field">
          <span>Line Y</span>
          <input type="range" id="line-y-slider" min="0" max="100" step="0.1" value="50" />
        </label>
        <label class="field">
          <span>Ratio a</span>
          <input type="range" id="ratio-slider" min="1.01" max="1.2" step="0.0005" value="1.059463" />
        </label>
        <label class="field">
          <span>Wave</span>
          <select id="wave-select">
            <option value="sine">Sine</option>
            <option value="triangle">Triangle</option>
            <option value="square">Square</option>
            <option value="sawtooth">Saw</option>
          </select>
        </label>
        <button id="line-sound-btn" class="flat-btn">Line Sound: ON</button>
      </div>
      <div id="top-bar">
        <span class="label">Tempo & Motion Speed</span>
        <input type="range" id="speed-slider" min="0.5" max="2.0" step="0.01" value="1" />
        <label class="toggle" for="cluster-toggle">
          <input type="checkbox" id="cluster-toggle" checked />
          <span class="toggle-switch"></span>
          <span class="toggle-text">Cluster boxes</span>
        </label>
        <button id="join-btn" class="flat-btn">Join</button>
      </div>
      <div id="canvas-wrapper"></div>
      <div id="segment-log" class="panel log-panel">
        <div class="panel-title">Segment Log</div>
        <div id="log-entries"></div>
      </div>
      <div id="line-info" class="panel info-panel">
        <div class="panel-title">Line Stats</div>
        <div class="info-row"><span>Line X</span><span id="info-line-x">0</span></div>
        <div class="info-row"><span>Line Y</span><span id="info-line-y">0</span></div>
        <div class="info-row"><span>Ratio a</span><span id="info-ratio">0</span></div>
        <div class="info-row"><span>V-Playing</span><span id="info-playing-v">None</span></div>
        <div class="info-row"><span>H-Playing</span><span id="info-playing-h">None</span></div>
      </div>
      <div id="bottom-controls">
        <button class="instr-btn" data-type="hihat">Hi-hat /\</button>
        <button class="instr-btn" data-type="bass">Bass )(</button>
        <button class="instr-btn" data-type="piano">Piano []</button>
        <button class="instr-btn" data-type="kick">Kick ()</button>
      </div>
    </div>
    <script src="sketch.js"></script>
  </body>
</html>
